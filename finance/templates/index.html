{% extends "layout.html" %}

{% block title %}
    Index
{% endblock %}

{% block main %}
    <table>
        <col style="width:20%" />
        <col style="width:20%" />
        <col style="width:20%" />
        <col style="width:20%" />
        <col style="width:20%" />
        <tableinsert></tableinsert>

    </table>

    <script>

        async function fetchpage() {
            let reply = await fetch('/', {method:"POST"});
            let replyt = await reply.text();
            let replyObj = JSON.parse(replyt);

            console.log(replyObj)
            let html = '';

            for (let obj of replyObj) {
                shares = obj['shares']
                price = obj['price']
                symbol = obj['symbol']
                total = 

                html += `<td>${symbol}</td>
                        <td>Number of shares : ${shares}</td>
                        <td>Unit Price : $${price}</td>
                        <td>Total Price : $ </td>`
            }
            document.querySelector("tableinsert").innerHTML = html;

        }

        fetchpage();


    </script>

{% endblock %}

